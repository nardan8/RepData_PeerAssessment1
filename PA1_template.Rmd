---
title: "Reproducible Research: Peer Assessment 1"
output: 
  html_document:
    keep_md: true
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE,  fig.path = 'figure/', fig.cap = '  ', fig.pos = "H")
```


## Loading and preprocessing the data
```{r load-preprocess-data, message=FALSE}
library(dplyr)
library(ggplot2)
zipFile <- "activity.zip"
filename <- "activity.csv"

# unzip if file doesn't already exist
if (!file.exists(filename)) {
        unzip(zipFile)
}

# read data
df <- read.csv(filename)

# convert Date type
df <- mutate(df, date = as.Date(date, "%Y-%m-%d"))
```


## What is mean total number of steps taken per day?
1. Calculate the total number of steps taken per day
```{r message=FALSE}
# group by days
groupedDf <- group_by(df, date)

# sum steps of each day
stepsPerDay <- summarise(groupedDf, steps = sum(steps, na.rm = TRUE))
```
2. Make a histogram of the total number of steps taken each day
``` {r figure}
ggplot(stepsPerDay, aes(x=date, y=steps)) + 
        geom_bar(stat = "identity", color = "black", fill = "steelblue") + 
        labs(title = "Total number of steps taken each day", x = "Date", y = "Total step counts")
```

3. Calculate and report the mean and median of the total number of steps taken per day
``` {r}
stepsMean <- summarise(stepsPerDay, stepsMean = round(mean(steps, na.rm = TRUE), 0))
stepsMedian <- summarise(stepsPerDay, stepsMedian = median(steps, na.rm = TRUE))
```
The Mean value of the number of steps taken per day is - `r stepsMean` steps.  
The Median value of the number of steps taken per day is - `r stepsMedian` steps.



## What is the average daily activity pattern?



## Imputing missing values



## Are there differences in activity patterns between weekdays and weekends?
